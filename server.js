// Generated by CoffeeScript 1.3.3
(function() {
  var app, express, io;

  express = require("express");

  app = express.createServer();

  app.set("views", __dirname + "/views");

  app.set("view engine", "jade");

  app.get("/", function(req, res) {
    return res.render("index");
  });

  app.listen(4000);

  io = require("socket.io").listen(app);

  io.sockets.on("connection", function(socket) {
    socket.send("Welcome to this chat server");
    socket.send("Please input your username: ");
    return socket.on("message", function(message) {
      return io.sockets.send(message);
    });
  });

}).call(this);
